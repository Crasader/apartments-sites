<!DOCTYPE html>
<html lang="">
    <head>
        <title>TERRA NOVA APARTMENT HOMES - CHULA VISTA APARTMENTS</title>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- CSS -->
        <link href="css/jquery-ui.min.css" rel="stylesheet">
        <link href="css/bootstrap-theme.min.css" rel="stylesheet">
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href="css/stack-interface.css" rel="stylesheet" type="text/css" media="all" />
        <link href="css/featherlight.min.css" type="text/css" rel="stylesheet">
        <link href="css/featherlight.gallery.min.css" type="text/css" rel="stylesheet">
        <link href="css/main.css" rel="stylesheet">
        <link href="css/iconsmind.css" rel="stylesheet">
        <link href="css/map.css" media="screen" rel="stylesheet" type="text/css">
        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head>
    <body id="home">
        <a id="start"></a>
        <div id="wrapper">
            <div id="page-content-wrapper">
                <!-- Header -->     
                <!--#include file="inc/header.asp" -->
                <!-- Content -->
                <section class="content">
                    <!-- Main Slider -->
                    <div class="main-slider">
                        <ul class="slippry">
                            <li><a href="#"><img src="img/slides/slide1.jpg"></a></li>
                            <li><a href="#"><img src="img/slides/slide2.jpg"></a></li>
                            <li><a href="#"><img src="img/slides/slide3.jpg"></a></li>
                        </ul>
                    </div>
                    <!-- Content Block 1 -->
                    <div class="index-block-01">
                        <div class="container">
                            <div class="col-md-6 text-center">
                                <div class="big-block">
                                    <h1><span>YOUR NEW HOME</span><br>AWAITS</h1>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h4>TERRA NOVA APARTMENT HOMES - CHULA VISTA APARTMENTS</h4>
                                <p>Terra Nova Apartment Homes offer an apartment community that puts scenic tranquility at the forefront of everyday life. Our Chula Vista apartments are a gateway into the culturally-rich San Diego city, nestled in a Southern suburb that has something for everyone. With open spaces dotted with beautiful landscape, our Chula Vista apartments offer an incredible park-like community that exudes tranquility. Come unwind at your brand new home at Terra Nova. Take your pick from one- and two-bedroom floorplans that offer central air conditioning, gourmet kitchens with updated appliances, and large private patios or balconies on all of our apartments. Select units even include vaulted ceilings, wooden floors, walk-in closets, and more!</p>
                            </div>
                        </div>
                    </div>
                    <div class="index-block-02">
                        <div class="container">
                            <div class="col-md-4">
                                <div class="highlight-block">
                                    <div class="icon">
                                        <img src="img/icon-floorplan.png">
                                    </div>
                                    <h3>
                                        Unique & Spacious<br>Floor Plans
                                    </h3>
                                    <div class="highlight-bg">
                                        <img src="img/highlight1.jpg" class="highlight-bg-img img-responsive">
                                    </div>
                                </div>
                                <p class="highlight-block-description">Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Donec odio. Quisque volutpat mattis eros. Nullam malesuada erat ut turpis. Suspendisse urna nibh, viverra non, semper suscipit, posuere a, pede.</p>
                            </div>
                            <div class="col-md-4">
                                <div class="highlight-block">
                                    <div class="icon">
                                        <img src="img/icon-location.png">
                                    </div>
                                    <h3>
                                        Convenient<br>Location
                                    </h3>
                                    <div class="highlight-bg">
                                        <img src="img/highlight2.jpg" class="highlight-bg-img img-responsive">
                                    </div>
                                </div>
                                <p class="highlight-block-description">Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Donec odio. Quisque volutpat mattis eros. Nullam malesuada erat ut turpis. Suspendisse urna nibh, viverra non, semper suscipit, posuere a, pede.</p>
                            </div>
                            <div class="col-md-4">
                                <div class="highlight-block">
                                    <div class="icon">
                                        <img src="img/icon-for-rent.png">
                                    </div>
                                    <h3>
                                        Units<br>Available
                                    </h3>
                                    <div class="highlight-bg">
                                        <img src="img/highlight3.jpg" class="highlight-bg-img img-responsive">
                                    </div>
                                </div>
                                <p class="highlight-block-description">Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Donec odio. Quisque volutpat mattis eros. Nullam malesuada erat ut turpis. Suspendisse urna nibh, viverra non, semper suscipit, posuere a, pede.</p>
                            </div>
                        </div>
                    </div>
                    <div class="index-block-03 section-title" id="amenities">
                        <div class="container">
                            <div class="col-md-12 text-center">
                                <h1>Amenities</h1>
                            </div>
                        </div>
                    </div>
                    <div class="index-block-04">
                        <div class="container">
                            <div class="row">
                                <div class="col-sm-12 text-center">
                                    <h2>AMENITIES AND FEATURES THAT SET US APART</h2>
                                    <p>Terra Nova also offers on-site amenities appealing to all of its valued residents, including a radiant swimming pool and tranquil spa, BBQ/Picnic areas, business center, and Playground. We are also a pet friendly community with certain restrictions (please inquire for details).</p>
                                </div>
                            </div>
                            <!-- Amenitites Tabs -->
                            <ul class="nav nav-tabs row text-center" role="tablist">
                                <li role="presentation" class="active col-xs-6"><a href="#apt-features" aria-controls="apt-features" role="tab" data-toggle="tab" class="button tab-link">Apartment Features</a></li>
                                <li role="presentation" class="col-xs-6"><a href="#com-features" aria-controls="com-features" role="tab" data-toggle="tab" class="button tab-link">Community Features</a></li>
                            </ul>
                            <!-- Amenitites Tab Panes -->
                            <div class="row">
                                <div class="tab-content">
                                    <div role="tabpanel" class="tab-pane active" id="apt-features">
                                        <div class="col-sm-7">
                                            <img src="img/amenity-pic2.jpg" class="img-responsive">
                                        </div>
                                        <div class="col-sm-5">
                                            <ul class="list-group">
                                                <li class="list-group-item">9ft Ceilings</li>
                                                <li class="list-group-item">Large Kitchen</li>
                                                <li class="list-group-item">Pantries</li>
                                                <li class="list-group-item">Whirlpool appliances</li>
                                                <li class="list-group-item">Stainless Steel Appliances*</li>
                                                <li class="list-group-item">Stackable W/D*</li>
                                                <li class="list-group-item">Ceiling Fan(s)</li>
                                                <li class="list-group-item">Walk-in Closets</li>
                                                <li class="list-group-item">Patio or Balcony</li>
                                                <li class="list-group-item">Individual Water Heaters</li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div role="tabpanel" class="tab-pane" id="com-features">
                                        <div class="col-sm-7">
                                            <img src="img/amenity-pic1.jpg" class="img-responsive">
                                        </div>
                                        <div class="col-sm-5">
                                            <ul class="list-group">
                                                <li class="list-group-item">Covered Parking</li>
                                                <li class="list-group-item">Fitness Center</li>
                                                <li class="list-group-item">Laundry Facility</li>
                                                <li class="list-group-item">Playground</li>
                                                <li class="list-group-item">Wireless Internet Access</li>
                                                <li class="list-group-item">Pet Friendly</li>
                                                <li class="list-group-item">Business Center</li>
                                                <li class="list-group-item">BBQ/Picnic Area</li>
                                                <li class="list-group-item">Beautiful Pool/Spa Area</li>
                                                <li class="list-group-item">Guest Parking</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="index-block-05 section-title" id="floor-plans">
                        <div class="container">
                            <div class="col-md-12 text-center">
                                <h1>Floor Plans</h1>
                            </div>
                        </div>
                    </div>
                    <div class="index-block-06">
                        <div class="container">
                            <div class="row">
                                <div class="col-sm-12 text-center">
                                    <h2>FLOORPLANS AT TERRA NOVA - APARTMENTS IN CHULA VISTA</h2>
                                    <p>At Terra Nova, our residents can choose from one- or two-bedroom homes in our Chula Vista apartments. With spacious floorplans that include ample storage, beautiful kitchen countertops with updated appliances, and in many cases, in-unit washers and dryers, Terra Nova is an incredible place to call home. Contact Terra Nova Apartments in Chula Vista to check availability or set up a tour today!</p>
                                </div>
                            </div>
                            <!-- Floor Plans Tabs -->
                            <ul class="nav nav-tabs row text-center" role="tablist">
                                <li role="presentation" class="active col-xs-6"><a href="#1bedroom" aria-controls="1bedroom" role="tab" data-toggle="tab" class="button tab-link">One Bedroom</a></li>
                                <li role="presentation" class="col-xs-6"><a href="#2bedroom" aria-controls="2bedroom" role="tab" data-toggle="tab" class="button tab-link">Two Bedroom</a></li>
                            </ul>
                            <!-- Floor Plans Tab Panes -->
                            <div class="row">
                                <div class="tab-content">
                                    <div role="tabpanel" class="tab-pane active" id="1bedroom">
                                        <div class="col-sm-6">
                                            <img src="img/units/1.jpg" class="img-responsive">
                                        </div>
                                        <div class="col-sm-6 text-center">
                                            <h4>SEVILLA</h4>
                                            <p>
                                                1 BED | 1 BATH<br>
                                                650 SQ. FT.<br>
                                                STARTING AT $1390
                                            </p>
                                            <p>
                                                <a href="#" class="button">APPLY NOW</a>
                                            </p>
                                        </div>
                                    </div>
                                    <div role="tabpanel" class="tab-pane" id="2bedroom">
                                        <div class="col-sm-6">
                                            <img src="img/units/2.jpg" class="img-responsive">
                                        </div>
                                        <div class="col-sm-6 text-center">
                                            <h4>SEGOVIA</h4>
                                            <p>
                                                2 BED | 2 BATH<br>
                                                900 SQ. FT.<br>
                                                STARTING AT $1650
                                            </p>
                                            <p>
                                                <a href="#" class="button">APPLY NOW</a>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="index-block-07 section-title" id="gallery">
                        <div class="container">
                            <div class="col-md-12 text-center">
                                <h1>Gallery</h1>
                            </div>
                        </div>
                    </div>
                    <div class="index-block-08">
                        <div class="container">
                            <div class="row">
                                <div class="col-sm-12 text-center">
                                    <h2>GALLERY - VIEW PICTURES OF TERRA NOVA APARTMENTS IN CHULA VISTA</h2>
                                    <p>View the photos below to get a glimpse of life at Terra Nova. From the beautiful landscape that surrounds our apartment homes to the thoughtful details that adorn each unit, we’re confident that you’ll love living at Terra Nova. Take an online Photo Tour of our Chula Vista, CA luxury apartments for rent to see what life at Terra Nova Apartments is all about.</p>
                                </div>
                            </div>
                            <div class="row gallery">
                                <div class="col-sm-4 gallery-img">
                                    <a class="fgallery" href="img/gallery1.jpg"><img src="img/gallery1.jpg" class="img-responsive"></a>
                                </div>
                                <div class="col-sm-4 gallery-img">
                                    <a class="fgallery" href="img/gallery2.jpg"><img src="img/gallery2.jpg" class="img-responsive"></a>
                                </div>
                                <div class="col-sm-4 gallery-img">
                                    <a class="fgallery" href="img/gallery3.jpg"><img src="img/gallery3.jpg" class="img-responsive"></a>
                                </div>
                                <div class="col-sm-4 gallery-img">
                                    <a class="fgallery" href="img/gallery4.jpg"><img src="img/gallery4.jpg" class="img-responsive"></a>
                                </div>
                                <div class="col-sm-4 gallery-img">
                                    <a class="fgallery" href="img/gallery5.jpg"><img src="img/gallery5.jpg" class="img-responsive"></a>
                                </div>
                                <div class="col-sm-4 gallery-img">
                                    <a class="fgallery" href="img/gallery6.jpg"><img src="img/gallery6.jpg" class="img-responsive"></a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="location" class="index-block-09 section-title">
                        <div class="container">
                            <div class="col-md-12 text-center">
                                <h1>Location</h1>
                            </div>
                        </div>
                    </div> 

                    <div class="index-block-10">
                        <div class="container">
                            <div class="row">
                                <div class="col-sm-12 text-center">
                                    <h2>TERRA NOVA APARTMENTS IN CHULA VISTA, CA</h2>
                                    <p>Living at Terra Nova puts you in the center of some of Chula Vista’s best dining and entertainment. Residents are nearby the AMC Chula Vista, a nearby movie theater, the Formosa Club, and just a short drive away from The LOT in Liberty Station. Check out a variety of the nearby Mexican food and local nightlife, or take in some of San Diego’s best beaches and parks. Contact us today to check availability or schedule a tour.</p>
                                </div>
                            </div>
                            <!-- Map Tabs -->
                            <div class="row blank-w">
                                <ul class="nav nav-tabs row text-center" role="tablist">
                                    <li role="presentation" class="active col-md-3 col-xs-12 tabs-title">
                                        <a href="#entertainment" aria-controls="entertainment" role="tab" data-toggle="tab" class="ll-location-title location-entertainment location-41927 button tab-link"  data-location-id="41927" title="Entertainment" id="entertainment-label">Entertainment</a>
                                    </li>
                                    <li role="presentation" class="col-md-3 col-xs-12 tabs-title">
                                        <a href="#restaurants" aria-controls="restaurants" role="tab" data-toggle="tab" class="ll-location-title location-restaurants location-41923 button tab-link" data-location-id="41923" title="Restaurants" id="restaurants-label">Restaurants</a>
                                    </li>
                                    <li role="presentation" class="col-md-3 col-xs-12 tabs-title">
                                        <a href="#schools" aria-controls="schools" role="tab" data-toggle="tab" class="ll-location-title location-schools location-41925 button tab-link" data-location-id="41925" title="Schools" id="schools-label">Schools</a>
                                    </li>
                                    <li role="presentation" class="col-md-3 col-xs-12 tabs-title">
                                        <a href="#shopping" aria-controls="shopping" role="tab" data-toggle="tab" class="ll-location-title location-shopping location-41926 button tab-link" data-location-id="41926" title="Shopping" id="shopping-label">Shopping</a>
                                    </li>
                                </ul> 
                            </div>




                            <div class="row">

                                <div class="col-sm-7 thumbnail ">

                                    <div id="ll-map" class="m-10p" style="position: relative; overflow: hidden;">

                                    </div>  

                                    <div class="overlay caption" style="display: none;"></div>
                                </div>


                                <!-- Map Tab Panes -->
                                <div class="col-sm-5">
                                    <div class="tab-content location-content" data-tabs-content="location-tabs">



                                        <div class="location-panel tabs-panel is-active" id="entertainment" role="tabpanel" aria-hidden="false" aria-labelledby="entertainment-label">
                                            <h1 class="poi-category">Entertainment</h1>
                                            <ul>

                                            </ul>
                                        </div>




                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="index-block-11 section-title" id="residents">
                        <div class="container">
                            <div class="col-md-12 text-center">
                                <h1>Residents</h1>
                            </div>
                            <div class="row">
                                <div class="col-sm-4">
                                    <div class="feature feature-3 boxed boxed--lg boxed--border">
                                        <i class="icon icon--lg icon-Checked-User"></i>
                                        <h4>Apply Now</h4>
                                        <a href="#" class="button btn btn-lg">
                                            Apply now
                                        </a>
                                    </div>
                                    <!--end feature-->
                                </div>
                                <div class="col-sm-4">
                                    <div class="feature feature-3 boxed boxed--lg boxed--border">
                                        <i class="icon icon--lg  icon-Screwdriver"></i>
                                        <h4>Maintenance Request</h4>
                                        <a href="#" class="button btn btn-lg">
                                            Send Request
                                        </a>
                                    </div>
                                    <!--end feature-->
                                </div>
                                <div class="col-sm-4">
                                    <div class="feature feature-3 boxed boxed--lg boxed--border">
                                        <i class="icon icon--lg icon-Envelope"></i>
                                        <h4>Suggestion Box</h4>
                                        <a href="#" class="button btn btn-lg">
                                            Send Suggestion
                                        </a>
                                    </div>
                                    <!--end feature-->
                                </div>
                            </div>
                            <p></p>
                            <!--end of row-->
                            <div class="row">
                                <div class="col-sm-4">
                                    <div class="feature feature-3 boxed boxed--lg boxed--border">
                                        <i class="icon icon--lg icon-Map2"></i>
                                        <h4>Get Directions</h4>
                                        <a href="#" class="button btn btn-lg">
                                            Map it
                                        </a>
                                    </div>
                                    <!--end feature-->
                                </div>
                                <div class="col-sm-4">
                                    <div class="feature feature-3 boxed boxed--lg boxed--border">
                                        <i class="icon icon--lg  icon-Paw"></i>
                                        <h4>Review Pet Policies</h4>
                                        <a href="#" class="button btn btn-lg">
                                            Pet Policies
                                        </a>
                                    </div>
                                    <!--end feature-->
                                </div>
                                <div class="col-sm-4">
                                    <div class="feature feature-3 boxed boxed--lg boxed--border">
                                        <i class="icon icon--lg  icon-Credit-Card2"></i>
                                        <h4>Pay Online</h4>
                                        <a href="#" class="button btn btn-lg">
                                            Pay online
                                        </a>
                                    </div>
                                    <!--end feature-->
                                </div>
                            </div>
                            <!--end of row-->
                        </div>
                    </div>
                    <div id="contact" class="index-block-12">
                        <div class="container">
                            <div class="row">
                                <div class="col-sm-12 text-center">
                                    <h2>Get in Touch</h2>
                                    <p>At Terra Nova Villas, our goal is to make life easy for you. If you are looking to rent in Chula Vista, take note of our stunning community of contemporary apartments for rent and the conveniences we offer. For example, our resident portal has been created exclusively for our residents to experience stress-free living from the comfort of their own home.</p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="embed-responsive embed-responsive-16by9">
                                        <iframe src="https://www.google.com/maps/embed?pb=!1m26!1m12!1m3!1d6569115.512140826!2d-119.0558328670462!3d36.491957274058805!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!4m11!3e6!4m3!3m2!1d40.513535999999995!2d-111.8994432!4m5!1s0x80d94e38417d9a0b%3A0x433dd6b94d912124!2s440+E+H+St%2C+Chula+Vista%2C+CA+91910!3m2!1d32.63845!2d-117.045936!5e0!3m2!1sen!2sus!4v1486613872435" frameborder="0" style="border:0" allowfullscreen></iframe>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <form class="contact-form">
                                        <div class="form-group">
                                            <label>First Name</label>
                                            <input type="text" class="form-control">
                                        </div>
                                        <div class="form-group">
                                            <label>Last Name</label>
                                            <input type="text" class="form-control">
                                        </div>
                                        <div class="form-group">
                                            <label>Email</label>
                                            <input type="text" class="form-control">
                                        </div>
                                        <div class="form-group">
                                            <label>Phone</label>
                                            <input type="text" class="form-control">
                                        </div>
                                        <input type="submit" value="Submit" class="button">
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>

                </section>
                <!-- Footer -->
                <!--#include file="inc/footer.asp" -->
            </div>
        </div>

        <a class="back-to-top inner-link" href="#start" data-scroll-class="100vh:active">
            <i class="stack-interface stack-up-open-big"></i>
        </a>


        <a class="sps-mobile-close" href="//www.terranovaapts.com/terra-nova-villas-chula-vista-ca/location#"></a>


        <div class="marker_container_wrapper" style="display: none;">
            <div class="marker_container" >
                <span class="title"></span></br>
                <span class="address"></span></br>
                <span class="city"></span>, <span class="state"></span>&nbsp;<span class="zip"></span></br>
                <a class="website" target="_blank">Visit Website</a><span class="divider">|</span><a class="direction" target="_blank">Get Directions</a>

            </div>
        </div>
        <?php
        $filename = 'cachedinputs.json';
        if (!file_exists($filename)) {
            $cachedinputs = fopen("cachedinputs.json", "w") or die("Unable to Create file cachedinputs.json!");
        } else {
            $cachedinputs = file_get_contents($filename);
            $cachedinputs = json_decode($cachedinputs, TRUE);
            //print_r($cachedinputs); die();
        }
        $last_updated_inputs = date("F d Y H:i:s", filemtime('inputs.json'));
        ?>
        <script src="//maps.googleapis.com/maps/api/js?v=3&key=AIzaSyAKY6ajutSne1up2Wtce32IHbvIOM_KDrM" async defer></script>
        <script>
            var last_updated_inputs = "<?php echo $last_updated_inputs; ?>";

            var stored_last_updated_inputs = "<?php echo $cachedinputs['last_updated_inputs']; ?>";

            var request = new XMLHttpRequest();
            request.open("GET", "cachedinputs.json", false);
            request.send(null);
            
            if (request.responseText == "") {
                var cachedinputsData = {};
            } else {  
                var cachedinputsData = JSON.parse(request.responseText);
            }
            
            //console.log(cachedinputsData);
            if (typeof cachedinputsData.last_updated_inputs === 'undefined') {
                var cachedinputsData = {
                    "last_updated_inputs": last_updated_inputs,
                    "locations" : {}
                };
            } else {
                //console.log(cachedinputsData);
            }
            
            var request = new XMLHttpRequest();
            request.open("GET", "inputs.json", false);
            request.send(null);
            //console.log(request.responseText);
            var GMapsModule = JSON.parse(request.responseText);

            //console.log(GMapsModule);
            GMapsModule = GMapsModule[0];

            function cacheTheData(locationPointer, last_updated_inputs) {  console.log('cacheTheData Called');
                jQuery('.overlay').show(); //Hide The Map Area

                if (typeof locationPointer === 'undefined' || locationPointer != '') {
                    var location = locationPointer;
                } else {
                    var location = '41927'; //input.json => locations value
                }

                geocoder = new google.maps.Geocoder();
                var i = 0;
                var temp = [];
                
                var category = GMapsModule.locations[location].name;
                jQuery.each(GMapsModule.locations[location].poi_id, function (index, eachLocation) {
                    //console.log(GMapsModule.locations[location].name);

                    var element = GMapsModule.pois[eachLocation];
                    var address = element.address + ',' + element.zip + ',' + element.state;

                    geocoder.geocode({
                        'address': address
                    },
                    function (results, status) {
                        if (status == 'OK') {
                            var lat_lang = results[0].geometry.location;
                            temp.push({
                                "lat_lang": lat_lang,
                            });
                            i++;
                            if (GMapsModule.locations[location].poi_id.length == i) {
                                cachedinputsData.locations[location] = temp;
                                cachedinputsData["last_updated_inputs"] = last_updated_inputs;
                                $.event.trigger({
                                    type: "ajaxCall",
                                    message: {
                                        "location": location, 
                                        "cachedinputsData" : cachedinputsData
                                    },
                                    
                                });
                            }
                            
                        } else {
                            console.log(status);
                        }

                    });

                    
                });
                
            }

            function getDataFromCache(locationPointer, cachedinputsData) { 
                if (typeof locationPointer === 'undefined' || locationPointer != '') {
                    var location = locationPointer;
                } else {
                    var location = '41927'; //input.json => locations value
                }
                var infoWindow = new google.maps.InfoWindow;

                var map = new google.maps.Map(document.getElementById('ll-map'), {
                    zoom: 13,
                    scrollwheel: false,
                });
                
                var i = 0;
                jQuery.each(GMapsModule.locations[location].poi_id,function(index,eachLocation){
                    var element = GMapsModule.pois[eachLocation];
                    var address = element.address + ',' + element.zip + ',' + element.state;

                    map.setCenter(cachedinputsData.locations[location][i].lat_lang);
                    element.marker = new google.maps.Marker({
                        position: cachedinputsData.locations[location][i].lat_lang,
                        map: map,
                        animation: google.maps.Animation.DROP,
                        icon: {
                          url: element.image_path_marker
                        }
                    });

                    element.marker.addListener('click', function() {
                        infoWindow.setContent(infowincontent);
                        infoWindow.open(map, element.marker);
                    });

                    $('.marker_container').find('.title').text(element.name);
                    $('.marker_container').find('.address').text(element.address);
                    $('.marker_container').find('.city').text(element.city);
                    $('.marker_container').find('.state').text(element.state);
                    $('.marker_container').find('.zip').text(element.zip);
                    $('.marker_container').find('.website').attr('href', element.href);
                    var direction = "http://maps.google.com/maps?daddr="+element.href_directions.destAddress+'&saddr='+element.href_directions.sourceAddress;
                    $('.marker_container').find('.direction').attr('href', direction);
                    //$('.marker_container').find('.address').text(element.name);

                    var infowincontent = $('.marker_container_wrapper').html();
                    i++;
                });

                $('.ll-poi-title').click(function () {
                    var poi_id = $(this).attr('data-poi-id');

                    google.maps.event.trigger(GMapsModule.pois[poi_id].marker, 'click');
                    return false;
                });
            }

            
            jQuery(document).on("ajaxCall", ajaxCallHandler);
            function ajaxCallHandler(e) {
                var cachedinputs = JSON.stringify(e.message.cachedinputsData);
                var location = e.message.location;
                //console.log(location);
                $.ajax({
                    url: "map.php",
                    type: "POST",
                    data: {
                        action: "save",
                        cachedinputsData: cachedinputs
                    },
                    success: function (res) {
                        jQuery('.overlay').hide();
                        //console.log(JSON.parse(res));
                        getDataFromCache(location, JSON.parse(res));
                    }
                });
            }

            jQuery('.ll-location-title').click(function () {


                var location_id = jQuery(this).data('location-id');
                //console.log(GMapsModule.locations[location_id].poi_id);
                var i = 0;
                jQuery('.poi-category + ul li').remove();
                jQuery.each(GMapsModule.locations[location_id].poi_id, function (index, value) {
                    if (typeof jQuery('.poi-category + ul li').get(i) === 'undefined') {
                        jQuery('.poi-category + ul').append('<li class="poi"><a class="ll-poi-title" data-location-id="" data-poi-id="" href="javascript:void(0);" target="_blank" title="" ><span class="poi-index"></span><span class="poi_title_text"></span></a></li>');
                    }
                    //var list_no = i+1;
                    jQuery('.ll-poi-title').eq(i).find('.poi-index').text(i + 1 + '. ');
                    jQuery('.ll-poi-title').eq(i).attr('data-location-id', location_id);
                    jQuery('.ll-poi-title').eq(i).attr('data-poi-id', value);
                    jQuery('.ll-poi-title').eq(i).attr('title', GMapsModule.pois[value].name);
                    jQuery('.ll-poi-title').eq(i).find('.poi_title_text').text(GMapsModule.pois[value].name);

                    i++;
                });
                jQuery('.poi-category').text(GMapsModule.locations[location_id].name);

                // Fire For Google Map API == Start

                
                var request = new XMLHttpRequest();
                request.open("GET", "cachedinputs.json", false);
                request.send(null);
                
                if (request.responseText == "") {
                    var cachedinputsData = {};
                } else {  
                    
                    var cachedinputsData = JSON.parse(request.responseText);
                }
                
                if (typeof cachedinputsData.last_updated_inputs === 'undefined') {
                    var cachedinputsData = {
                        "last_updated_inputs": last_updated_inputs,
                        "locations" : {}
                    };
                } else {
                    //console.log(cachedinputsData);
                }

                if (last_updated_inputs != cachedinputsData.last_updated_inputs || typeof cachedinputsData.locations[location_id] === 'undefined') {
                    cacheTheData(location_id, last_updated_inputs);
                    console.log('cacheTheData Called');
                } else {
                    getDataFromCache(location_id, cachedinputsData);
                    console.log('getDataFromCache Called');
                }

                // Google Map Api called == End
               
                
                // jQuery('.tabs-title').each(function () {
                //     jQuery(this).removeClass('active');
                // });
                //jQuery(this).closest('.tabs-title').addClass('active');
                

            });
            jQuery(document).ready(function () {
                jQuery('.ll-location-title').eq(0).click();

            });


            jQuery(document).on('click', '.nav-link-item', function (e) {
                e.preventDefault();
                var id = jQuery(this).attr('href').replace('#', '');
                if (id !== 'undefined' && id != '' && id.indexOf('javascript') == '-1' && jQuery("#" + id).length) {
                    //console.log('i am here'+id);
                    window.history.pushState("", "", id);

                    jQuery('body,html').animate({
                        scrollTop: jQuery("#" + id).offset().top
                    },
                    1000);
                    return e.preventDefault();
                }

            });

        </script>


        <!--
         <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.1/jquery.min.js" type="text/javascript"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/6.2.1/foundation.min.js" type="text/javascript"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.5.9/slick.min.js" type="text/javascript"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js" type="text/javascript"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery.lazyload/1.9.1/jquery.lazyload.min.js" type="text/javascript"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.16.1/TweenMax.min.js" type="text/javascript"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/ScrollMagic.min.js" type="text/javascript"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/plugins/animation.gsap.js" type="text/javascript"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.17.0/plugins/ScrollToPlugin.min.js" type="text/javascript"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/3.0.3/handlebars.min.js" type="text/javascript"></script>
        <script src="js/jquery-ui.min.js"></script>
        <script src="js/bootstrap.min.js"></script>
        <script src="js/responsive-tabs.js"></script>
        <script src="js/slippry.min.js"></script>
        <script src="js/featherlight.min.js"></script>
        <script src="js/featherlight.gallery.min.js"></script>
        <script src="js/custom.js"></script>
        -->

    </body>
</html>